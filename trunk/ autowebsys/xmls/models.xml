<?xml version="1.0" encoding="UTF-8"?>
<models>
    <model>
        <name>custom_grid</name>
        <type>cc</type>
        <cc>
            <className>MyConnector</className>
            <id>id</id>
        </cc>
        <js>
            <setHeader>{translator:USER_GRID_HEADERS}</setHeader>
            <setInitWidthsP>15,*,15</setInitWidthsP>
            <setColSorting>int,str,int</setColSorting>
            <attachHeader>#text_filter,#text_filter,#text_filter</attachHeader>
        </js>
    </model>
    <model>
        <name>users_grid</name>
        <type>sql</type>
        <sql>
            <select>user_select</select>
            <update>user_update</update>
            <delete>user_delete</delete>
            <id>id</id>
            <columns>extension,username,balance</columns>
        </sql>
        <js>
            <setHeader>{translator:USER_GRID_HEADERS}</setHeader>
            <setInitWidthsP>15,*,15</setInitWidthsP>
            <setSkin>modern</setSkin>
            <setColTypes>ed,ed,ed</setColTypes>
            <setColSorting>int,str,int</setColSorting>
            <attachHeader>#text_filter,#text_filter,#text_filter</attachHeader>
        </js>
        <taskbar>
            <add>
                <label>{translator:GRID_BUTTON_ADD}</label>
                <window>user_edit</window>
            </add>
            <edit>
                <label>{translator:GRID_BUTTON_EDIT}</label>
                <window>user_edit</window>
            </edit>
            <delete>
                <label>{translator:GRID_BUTTON_DELETE}</label>
            </delete>
            <separator />
            <refresh>
                <label>{translator:GRID_BUTTON_REFRESH}</label>
            </refresh>
            <save>
                <label>{translator:GRID_BUTTON_SAVE}</label>
            </save>
        </taskbar>
        <internationalization>
            <not_selected_warn>{translator:GRID_NOT_SELECTED_WARN}</not_selected_warn>
            <confirm_delete>{translator:GRID_CONFIRM_DELETE}</confirm_delete>
        </internationalization>
        <validators>
            <validator>
                <index>0</index>
                <function>validators.isExtensionValid</function>
            </validator>
            <validator>
                <index>1</index>
                <function>validators.isUsernameUnique</function>
            </validator>
            <validator>
                <index>2</index>
                <function>validators.isFloat</function>
            </validator>
        </validators>
    </model>
    <model>
        <name>user_edit_form</name>
        <type>sql</type>
        <template>user_form_template</template>
        <sql>
            <insert>user_insert</insert>
            <select>user_select_by_id</select>
            <update>user_update</update>
            <id>id</id>
            <columns>extension,username,balance</columns>
        </sql>
        <onSave>application.register.refresh('users_grid');</onSave>
    </model>
    <model>
        <name>users2_grid</name>
        <type>sql</type>
        <sql>
            <select>user2_select</select>
            <update>user2_update</update>
            <delete>user2_delete</delete>
            <id>a</id>
            <columns>b</columns>
        </sql>
        <js>
            <setHeader>b</setHeader>
        </js>
        <taskbar>
            <add>
                <label>{translator:GRID_BUTTON_ADD}</label>
                <window>user2_edit</window>
            </add>
            <edit>
                <label>{translator:GRID_BUTTON_EDIT}</label>
                <window>user2_edit</window>
            </edit>
            <delete>
                <label>{translator:GRID_BUTTON_DELETE}</label>
            </delete>
        </taskbar>
    </model>
    <model>
        <name>user2_edit_form</name>
        <type>sql</type>
        <template>user2_form_template</template>
        <sql>
            <insert>user2_insert</insert>
            <select>user2_select_by_id</select>
            <update>user2_update</update>
            <id>a</id>
            <columns>b</columns>
        </sql>
        <onSave>application.register.refresh('users2_grid');</onSave>
    </model>
</models>